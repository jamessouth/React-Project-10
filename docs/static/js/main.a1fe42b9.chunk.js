(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,a){e.exports={li:"Box_li__oaFGf",img:"Box_img__8ft8u",names:"Box_names__2r8mD",users:"Box_users__1eyE9",emails:"Box_emails__2Pemy",citys:"Box_citys__2Nfiy"}},,function(e,t,a){e.exports={middle:"ModalMiddle_middle__1Gy4p",names:"ModalMiddle_names__nxcS1",users:"ModalMiddle_users__7UaOU",emails:"ModalMiddle_emails__2v2zF",citys:"ModalMiddle_citys__AecZm"}},,function(e,t,a){e.exports={prev:"ModalNav_prev__1g8U6",next:"ModalNav_next__3VFEV"}},function(e,t,a){e.exports={close:"ModalTop_close__Y216S",img:"ModalTop_img__NkCHX"}},function(e,t,a){e.exports={bottom:"ModalBottom_bottom__2QQTn",addy:"ModalBottom_addy__2rzB4"}},function(e,t,a){e.exports={div:"SWNotify_div__OEuQD",btn:"SWNotify_btn__1JSiI"}},function(e,t,a){e.exports={overlay:"Main_overlay__2uCmM",h1_input:"Main_h1_input__2lmHW"}},,,function(e,t,a){e.exports={div:"Select_div__1LXQZ"}},function(e,t,a){e.exports={hidden:"Modal_hidden__2qb75"}},function(e,t,a){e.exports=a(25)},,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),c=(a(22),a(3));function i(e){var t=e.isModalOpen,a=e.isInputInUse,o=e.focusBox,l=e.handleModalOpen,i=e.boxkey,s=e.photo,u=e.name,d=e.user,m=e.email,p=e.city,h=Object(n.useRef)(null);return Object(n.useEffect)(function(){t||a||h.current.getAttribute("data-key")!==o.key||h.current.focus()}),r.a.createElement("li",{ref:h,onKeyPress:l,onClick:l,"data-key":i,className:c.li,tabIndex:t?"-1":"0"},r.a.createElement("img",{className:c.img,src:s,alt:"employee"}),r.a.createElement("p",{className:c.names},u),r.a.createElement("p",{className:c.users},d),r.a.createElement("p",{className:c.emails},m),r.a.createElement("p",{className:c.citys},"".concat(p,", USA")))}var s=a(2);function u(e,t){return function(a){e(a.target.value),t(a.target.value)}}a(23);function d(e){var t=e.handleInputBlur,a=e.handleInputFocus,o=e.isModalOpen,l=e.filter,c=Object(n.useRef)(null),i=Object(n.useState)(""),d=Object(s.a)(i,2),m=d[0],p=d[1];return Object(n.useEffect)(function(){return c.current.focus()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"search"},"search"),r.a.createElement("input",{ref:c,onBlur:t,onFocus:a,role:"searchbox",tabIndex:o?"-1":"0",value:m,onChange:u(p,l),id:"search",type:"search",name:"search_box",placeholder:"Search"}))}var m=a(14);function p(e){var t=e.isModalOpen,a=e.handleSort,o=Object(n.useState)("Select..."),l=Object(s.a)(o,2),c=l[0],i=l[1];return r.a.createElement("div",{className:m.div},r.a.createElement("label",{htmlFor:"sort"},"Sort by:"),r.a.createElement("select",{tabIndex:t?"-1":"0",value:c,onChange:u(i,a),id:"sort"},r.a.createElement("option",{hidden:!0},"Select..."),r.a.createElement("option",null,"first name"),r.a.createElement("option",null,"last name"),r.a.createElement("option",null,"city")))}var h=a(7);function f(e){var t=e.handleModalPrev,a=e.handleModalNext;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{"aria-label":"previous",onClick:t,className:h.prev},"<"),r.a.createElement("button",{"aria-label":"next",onClick:a,className:h.next},">"))}var v=a(8);function E(e){var t=e.handleModalPrev,a=e.handleModalNext,n=e.handleModalClose,o=e.photo,l=e.isSinglet;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{autoFocus:!0,"aria-label":"close",onClick:n,className:v.close},"x"),!l&&r.a.createElement(f,{handleModalPrev:t,handleModalNext:a}),r.a.createElement("img",{className:v.img,src:o,alt:"employee"}))}var y=a(5);function A(e){var t=e.name,a=e.user,n=e.email,o=e.city;return r.a.createElement("div",{className:y.middle},r.a.createElement("p",{className:y.names},t),r.a.createElement("p",{className:y.users},a),r.a.createElement("p",{className:y.emails},n),r.a.createElement("p",{className:y.citys},o))}var N=a(9);function O(e){var t=e.cell,a=e.street,n=e.city,o=e.state,l=e.postcode,c=e.month,i=e.day,s=e.year;return r.a.createElement("div",{className:N.bottom},r.a.createElement("p",null,t),r.a.createElement("p",{className:N.addy},"".concat(a,", ").concat(n,", ").concat(o,", USA ").concat(l)),r.a.createElement("p",null,"Birthday: ".concat(c,"/").concat(i,"/").concat(s)))}var M=a(15);function S(e){var t=e.handleModalPrev,a=e.handleModalNext,n=e.handleModalClose,o=e.emp,l=o.photo,c=o.name,i=o.username,s=o.email,u=o.city,d=o.cell,m=o.street,p=o.state,h=o.postcode,f=o.month,v=o.day,y=o.year,N=e.isSinglet;return r.a.createElement("div",{"aria-live":"polite",onKeyUp:n,className:M.hidden},r.a.createElement(E,{handleModalPrev:t,handleModalNext:a,handleModalClose:n,photo:l,isSinglet:N}),r.a.createElement(A,{name:c,user:i,email:s,city:u}),r.a.createElement(O,{cell:d,street:m,city:u,state:p,postcode:h,month:f,day:v,year:y}))}var b=a(10);function I(e){var t=e.handleSWReload;return r.a.createElement("div",{className:b.div,"aria-live":"polite"},"New content!",r.a.createElement("button",{className:b.btn,autoFocus:!0,onClick:t},"Reload"))}var g=a(11);function w(e){var t=e.handleSort,a=e.handleModalPrev,o=e.handleInputFocus,l=e.handleInputBlur,c=e.handleNewSW,s=e.handleSWReload,u=e.handleModalNext,m=e.handleModalClose,h=e.handleModalOpen,f=e.filter,v=e.employees,E=e.isLoaded,y=e.modalEmployee,A=e.isSinglet,N=e.last,O=e.isInputInUse,M=e.newSW;return Object(n.useEffect)(function(){document.body.style.overflowY=y?"hidden":"visible"}),document.addEventListener("swUpdated",c),r.a.createElement(r.a.Fragment,null,!!y&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.overlay}),r.a.createElement(S,{handleModalPrev:a,handleModalNext:u,handleModalClose:m,emp:y,isSinglet:A})),!!M&&r.a.createElement(I,{handleSWReload:s}),E&&r.a.createElement("div",{className:g.h1_input,"aria-hidden":!!y},r.a.createElement("h1",null,"awesome startup employee directory"),r.a.createElement(d,{handleInputBlur:l,handleInputFocus:o,isModalOpen:!!y,filter:f}),r.a.createElement(p,{isModalOpen:!!y,handleSort:t})),E&&r.a.createElement("ul",{"aria-hidden":!!y},v.filter(function(e){return e.isVisible}).map(function(e,t){return r.a.createElement(i,{isModalOpen:!!y,isInputInUse:O,focusBox:N||{key:"x"},handleModalOpen:h,boxkey:e.key,photo:e.photo,name:e.name,user:e.username,email:e.email,city:e.city,key:e.key})})))}function _(e){var t=e.message;return r.a.createElement("p",{style:{textAlign:"center",marginTop:"5em"}},"There was an error: ",t,".  Please try again.")}var x=a(4),C=a.n(x),k=a(6);function R(e,t){return function(a,n){for(var r="next"===a?parseInt(n,10)+1:parseInt(n,10)-1,o="next"===a?0:e.length;"next"===a?o<e.length:o>-1;"next"===a?o++:o--)if(e[(o+r)%e.length].isVisible){t(e[(o+r)%e.length]);break}}}var j=a(1);function T(e){return e[0].toUpperCase()+e.substring(1)}function L(e){var t="".concat(e.name.first.trim().replace(/([A-z\xc0-\xff\u011f\u015e\u0131]+|\w+[A-z\xc0-\xff\u011f\u015e\u0131]*)\w*$/gi,T).replace(/jean-/,"Jean-").replace(/Tomothy|Timmothy/,"Timothy").replace(/filipe/,"Filipe").replace(/hans-/,"Hans-").replace(/zine-/,"Zine-").replace(/sue-/,"Sue-").replace(/ernst-/,"Ernst-").replace(/klaus-/,"Klaus-").replace(/aart-/,"Aart-").replace(/anne-/,"Anne-").replace(/franz-/,"Franz-")," ").concat(e.name.last.trim().replace(/([A-z\xc0-\xff\u011f\u015e\u0131]+|\w+[A-z\xc0-\xff\u011f\u015e\u0131]*)\w*$/gi,T).replace(/cdonal/,"cDonal").replace(/toole/,"'Toole").replace(/brien/,"'Brien").replace(/donoghue/,"'Donoghue").replace(/mahony/,"'Mahony").replace(/(\w)\1{2}/g,"$1$1").replace(/jean-/,"Jean-").replace(/^mccoy/i,"McCoy").replace(/^mck\w+/i,"McKinney"));return Object(j.a)({},e,{name:t})}function W(e){var t=e.location.city.trim().replace(/Lousville/i,"Louisville").replace(/Bueblo/i,"Pueblo").replace(/mcallen/i,"McAllen").replace(/flowermound/i,"Flower Mound").replace(/mckinney/i,"McKinney").replace(/rochmond/i,"Richmond");return Object(j.a)({},e,{city:t})}var U={ALABAMA:"AL",ALASKA:"AK","AMERICAN SAMOA":"AS",ARIZONA:"AZ",ARKANSAS:"AR",CALIFORNIA:"CA",COLORADO:"CO",CONNECTICUT:"CT",DELAWARE:"DE","DISTRICT OF COLUMBIA":"DC","FEDERATED STATES OF MICRONESIA":"FM",FLORIDA:"FL",GEORGIA:"GA",GUAM:"GU",HAWAII:"HI",IDAHO:"ID",ILLINOIS:"IL",INDIANA:"IN",IOWA:"IA",KANSAS:"KS",KENTUCKY:"KY",LOUISIANA:"LA",MAINE:"ME","MARSHALL ISLANDS":"MH",MARYLAND:"MD",MASSACHUSETTS:"MA",MICHIGAN:"MI",MINNESOTA:"MN",MISSISSIPPI:"MS",MISSOURI:"MO",MONTANA:"MT",NEBRASKA:"NE",NEVADA:"NV","NEW HAMPSHIRE":"NH","NEW JERSEY":"NJ","NEW MEXICO":"NM","NEW YORK":"NY","NORTH CAROLINA":"NC","NORTH DAKOTA":"ND","NORTHERN MARIANA ISLANDS":"MP",OHIO:"OH",OKLAHOMA:"OK",OREGON:"OR",PALAU:"PW",PENNSYLVANIA:"PA","PUERTO RICO":"PR","RHODE ISLAND":"RI","SOUTH CAROLINA":"SC","SOUTH DAKOTA":"SD",TENNESSEE:"TN",TEXAS:"TX",UTAH:"UT",VERMONT:"VT","VIRGIN ISLANDS":"VI",VIRGINIA:"VA",WASHINGTON:"WA","WEST VIRGINIA":"WV",WISCONSIN:"WI",WYOMING:"WY"};function F(e){var t=U[Object.keys(U).find(function(t){return t===e.location.state.trim().toUpperCase()})];return Object(j.a)({},e,{state:t})}function D(e){var t=e.location.street.replace(/Mcc/i,"McC").replace(/Mcg/i,"McG");return Object(j.a)({},e,{street:t})}function B(e){var t=e.location.postcode;return Object(j.a)({},e,{postcode:t})}function P(e){var t=new Date(e.dob.date),a=[t.getFullYear().toString().replace(/^\d{2}/,""),(t.getMonth()+1).toString(),t.getDate().toString()],n=a[0],r=a[1],o=a[2];return Object(j.a)({},e,{year:n,month:r,day:o})}function H(e){var t=e.login.username;return Object(j.a)({},e,{username:t})}function K(e){var t=e.picture.large;return Object(j.a)({},e,{photo:t})}function V(e){return Object(j.a)({},e,{isVisible:!0})}function G(e){var t=e.cell.replace("-"," ");return Object(j.a)({},e,{cell:t})}function Y(e){return e.length>7?e[0]:e}function $(e){var t=e.email.replace(/^\w+(?=\.)/,Y).replace(/(\w)\1{2}/g,"$1$1").replace(/^tomothy(?=\.)/,"timothy");return Object(j.a)({},e,{email:t})}function z(e){return["dob","location","login","picture"].forEach(function(t){return delete e[t]}),Object(j.a)({},e)}function J(e){return e.map(function(e,t){var a="".concat(e.login.salt,"_").concat(t);return Object(j.a)({},e,{key:a})}).map(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce(function(e,t){return t(e)},e)}}(L,W,F,D,B,P,H,K,V,G,$,z))}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(k.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Network problem - response not ok");case 6:return e.next=8,a.json();case 8:return a=e.sent,e.abrupt("return",a.results);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}var Q=/^\w+/i,q=/\w*-?'?\w+$/i;function ee(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),c=l[0],i=l[1],u=Object(n.useState)(null),d=Object(s.a)(u,2),m=d[0],p=d[1],h=Object(n.useState)(!1),f=Object(s.a)(h,2),v=f[0],E=f[1],y=Object(n.useState)(null),A=Object(s.a)(y,2),N=A[0],O=A[1],M=Object(n.useState)(!0),S=Object(s.a)(M,2),b=S[0],I=S[1],g=Object(n.useState)(null),w=Object(s.a)(g,2),_=w[0],x=w[1],j=Object(n.useState)(null),T=Object(s.a)(j,2),L=T[0],W=T[1],U="https://randomuser.me/api/?results=12&nat=us&inc=name,location,email,login,dob,cell,picture&noinfo";Object(n.useEffect)(function(){function e(){return(e=Object(k.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(U);case 3:t=e.sent,a=J(t),r(a),i(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),W(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[U]);var F=Object(n.useCallback)(function(e){"keyup"===e.type&&"Escape"!==e.key||(O(m),p(null),setTimeout(function(){O(null)},500))},[m,O,p]);return Object(n.useEffect)(function(){var e=window.matchMedia("(min-width: 768px)"),t=window.matchMedia("(min-width: 1024px)");e.addListener(F),t.addListener(F)},[F]),{employees:a,isLoaded:c,modalEmployee:m,isSinglet:v,last:N,isInputInUse:b,newSW:_,fetchError:L,handleModalClose:F,sortEmployees:function(e){var t=a.sort(function(e){return function(t,a){return"first name"===e?t.name.match(Q)[0]>a.name.match(Q)[0]?1:t.name.match(Q)[0]<a.name.match(Q)[0]?-1:t.name.match(q)[0]>a.name.match(q)[0]?1:-1:"last name"===e?t.name.match(q)[0]>a.name.match(q)[0]?1:t.name.match(q)[0]<a.name.match(q)[0]?-1:t.name.match(Q)[0]>a.name.match(Q)[0]?1:-1:t.city.toLowerCase()>a.city.toLowerCase()?1:t.city.toLowerCase()<a.city.toLowerCase()?-1:t.name.match(Q)[0]>a.name.match(Q)[0]?1:-1}}(e));r(t.map(function(e,t){return e.key=e.key.replace(/\d+$/,t),e}))},handleModalNext:function(e){var t=m.key.match(/\d+$/)[0];R(a,p)("next",t)},handleModalPrev:function(e){var t=m.key.match(/\d+$/)[0];R(a,p)("prev",t)},handleModalOpen:function(e){if("keypress"!==e.type||" "===e.key||"Enter"===e.key){var t=document.querySelectorAll("li").length,n=e.currentTarget.getAttribute("data-key").match(/\d+$/)[0];p(a[n]),E(1===t)}},filterEmployees:function(e){r(a.map(function(t){return t.name.toLowerCase().includes(e.toLowerCase())?t.isVisible=!0:t.isVisible=!1,t}))},handleInputFocus:function(e){I(!0)},handleInputBlur:function(e){setTimeout(function(){I(!1)},500)},handleNewSW:function(e){x(e.detail)},handleSWReload:function(e){_.waiting&&(_.waiting.postMessage("skipWaiting"),x(null))}}}var te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a;navigator.serviceWorker.addEventListener("controllerchange",function(){a||(window.location.reload(),a=!0)});var n=e.installing;null!=n&&(n.onstatechange=function(){if("installed"===n.state)if(navigator.serviceWorker.controller){console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA.");var a=new CustomEvent("swUpdated",{detail:e});document.dispatchEvent(a),t&&t.onUpdate&&t.onUpdate(e)}else console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(function(){var e=ee(),t=e.employees,a=e.isLoaded,n=e.modalEmployee,o=e.isSinglet,l=e.last,c=e.isInputInUse,i=e.newSW,s=e.fetchError,u=e.handleModalClose,d=e.sortEmployees,m=e.handleModalNext,p=e.handleModalPrev,h=e.handleModalOpen,f=e.filterEmployees,v=e.handleInputFocus,E=e.handleInputBlur,y=e.handleNewSW,A=e.handleSWReload;return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(_,{message:s.message}),!s&&r.a.createElement(w,{handleSort:d,handleModalPrev:p,handleInputFocus:v,handleInputBlur:E,handleNewSW:y,handleSWReload:A,handleModalNext:m,handleModalClose:u,handleModalOpen:h,filter:f,employees:t,isLoaded:a,modalEmployee:n,isSinglet:o,last:l,isInputInUse:c,newSW:i}))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");te?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ae(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ae(t,e)})}}()}],[[16,1,2]]]);
//# sourceMappingURL=main.a1fe42b9.chunk.js.map